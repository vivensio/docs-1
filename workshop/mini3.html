<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Vixens Workshops | Mini Workshop 3: 🌈🦄⚡️📱 Build a Rainbow/Unicorn Mobile App that Lights Up a Particle Photon Device</title>
    <meta name="description" content="Workshops to teach web and mobile development with Vue.js to beginners">
    <link rel="icon" href="/docs/favicon.png">
    
    <link rel="preload" href="/docs/assets/css/15.styles.55f7aaf7.css" as="style"><link rel="preload" href="/docs/assets/js/app.7918803b.js" as="script"><link rel="preload" href="/docs/assets/js/1.fa456c20.js" as="script"><link rel="prefetch" href="/docs/assets/js/0.8d771a8b.js"><link rel="prefetch" href="/docs/assets/js/2.db38580f.js"><link rel="prefetch" href="/docs/assets/js/3.77c53ce6.js"><link rel="prefetch" href="/docs/assets/js/4.98680524.js"><link rel="prefetch" href="/docs/assets/js/5.a368cb6c.js"><link rel="prefetch" href="/docs/assets/js/6.a6a0af95.js"><link rel="prefetch" href="/docs/assets/js/7.3168eb2d.js"><link rel="prefetch" href="/docs/assets/js/8.1ce82967.js"><link rel="prefetch" href="/docs/assets/js/9.ce8241d9.js"><link rel="prefetch" href="/docs/assets/js/10.22661102.js"><link rel="prefetch" href="/docs/assets/js/11.ad2936e7.js"><link rel="prefetch" href="/docs/assets/js/12.df833fe7.js"><link rel="prefetch" href="/docs/assets/js/13.fa142ba8.js"><link rel="prefetch" href="/docs/assets/js/14.ed56d954.js">
    <link rel="stylesheet" href="/docs/assets/css/15.styles.55f7aaf7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs/" class="home-link router-link-active"><!----><span class="site-name">
      Vue Vixens Workshops
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link">Team</a></div><div class="nav-item"><a href="/docs/workshop/CODE_OF_CONDUCT.html" class="nav-link">Code of Conduct</a></div><a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link">Team</a></div><div class="nav-item"><a href="/docs/workshop/CODE_OF_CONDUCT.html" class="nav-link">Code of Conduct</a></div><a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/docs/workshop/" class="sidebar-link">About Vue Vixens Workshops</a></li><li><a href="/docs/workshop/ch1.html" class="sidebar-link">🐶 Chapter 1: Introducing the My Pet Shop Web App</a></li><li><a href="/docs/workshop/ch2.html" class="sidebar-link">🐶 Chapter 2: Build a Pet Gallery</a></li><li><a href="/docs/workshop/ch3.html" class="sidebar-link">🐶 Chapter 3: Connect your Project to an API</a></li><li><a href="/docs/workshop/ch4.html" class="sidebar-link">🐶 Chapter 4: Create a Dog Adoption Experience</a></li><li><a href="/docs/workshop/ch5.html" class="sidebar-link">🐶 Chapter 5: Complete the Adoption Experience with a Form</a></li><li><a href="/docs/workshop/ch6.html" class="sidebar-link">🐶 Chapter 6: My First Mobile App: Tindogs</a></li><li><a href="/docs/workshop/mini1.html" class="sidebar-link">🐾 Mini Workshop 1: Build A Web App to Fetch &amp; Like Pets</a></li><li><a href="/docs/workshop/mini2.html" class="sidebar-link">🐾 Mini Workshop 2: Build a Mobile App to Choose a Pet</a></li><li><a href="/docs/workshop/mini3.html" class="active sidebar-link">🌈 Mini Workshop 3: Build A Rainbow/Unicorn App that Lights up a Photon!</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#set-up-your-photon" class="sidebar-link">Set Up Your Photon</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#scaffold-your-app" class="sidebar-link">Scaffold your app</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#create-the-base-markup" class="sidebar-link">Create the Base Markup</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#add-some-css" class="sidebar-link">Add some CSS</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#create-a-method-1" class="sidebar-link">Create A Method (1)</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#connect-your-photon" class="sidebar-link">Connect Your Photon</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#create-a-method-2" class="sidebar-link">Create a Method (2)</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/mini3.html#author" class="sidebar-link">Author</a></li></ul></li></ul></div><div class="page"><div class="content"><h1 id="mini-workshop-3-🌈🦄⚡️📱-build-a-rainbow-unicorn-mobile-app-that-lights-up-a-particle-photon-device"><a href="#mini-workshop-3-🌈🦄⚡️📱-build-a-rainbow-unicorn-mobile-app-that-lights-up-a-particle-photon-device" aria-hidden="true" class="header-anchor">#</a> Mini Workshop 3: 🌈🦄⚡️📱 Build a Rainbow/Unicorn Mobile App that Lights Up a Particle Photon Device</h1><table><thead><tr><th><strong>Project Goal</strong></th><th>Build a NativeScript-Vue mobile app to make a Photon's built-in LED flash different colors based on user selection.</th></tr></thead><tbody><tr><td><strong>What you’ll learn</strong></td><td>How to build a mobile app with NativeScript and Vue.js, how to setup and configure a Particle Photon, and how to connect the two so the app controls the device.</td></tr><tr><td><strong>Tools you’ll need</strong></td><td>Access to Wifi<br><br>A modern browser like Chrome.<br><br>Access to the <a href="http://play.nativescript.org" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> - consider creating an account in the Playground to keep the versions of your work intact. A mobile phone (iOS or Android) with the NativeScript Playground and Preview apps installed.<br><br>The two NativeScript companion apps for the playground (NativeScript Viewer and NativeScript Playground. On Android: <a href="https://play.google.com/store/apps/details?id=org.nativescript.play" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and <a href="https://play.google.com/store/apps/details?id=org.nativescript.preview" target="_blank" rel="noopener noreferrer">NativeScript Preview</a>. On iOS: <a href="https://itunes.apple.com/us/app/nativescript-playground/id1263543946" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and <a href="https://itunes.apple.com/us/app/nativescript-preview/id1264484702" target="_blank" rel="noopener noreferrer">NativeScript Preview</a><br><br>A <a href="https://store.particle.io/collections/photon" target="_blank" rel="noopener noreferrer">Particle Photon device</a>.</td></tr><tr><td><strong>Time needed to complete</strong></td><td>1 hour</td></tr><tr><td><strong>Just want to try the app?</strong></td><td><a href="https://play.nativescript.org/?template=play-vue&id=E9hBGf&v=21" target="_blank" rel="noopener noreferrer">Open this link in the Playground App</a></td></tr></tbody></table><h1 id="instructions"><a href="#instructions" aria-hidden="true" class="header-anchor">#</a> Instructions</h1><h2 id="set-up-your-photon"><a href="#set-up-your-photon" aria-hidden="true" class="header-anchor">#</a> Set Up Your Photon</h2><h3 id="_1-connect-the-photon-to-wifi"><a href="#_1-connect-the-photon-to-wifi" aria-hidden="true" class="header-anchor">#</a> 1. Connect the Photon to WiFi:</h3><p>Unbox the kit that comes with this workshop or use your own device, and plug the mini-USB cord into the Photon and to a USB port on your computer or to any USB-capable charger so the device will have power.</p><ul><li><p>Visit the <a href="https://setup.particle.io/" target="_blank" rel="noopener noreferrer">Photon setup page</a> to set up your device. You will be prompted to login; go ahead and create a Particle account.</p></li><li><p>After you have created your account, you will be redirected to set up the device. Click 'Setup a Photon' and 'next' to begin. If you have all the requirements on the next page, click 'next'. Download the local file that is generated to your computer. Open the <code>photonsetup.html</code> file in a browser.</p></li><li><p>Identify your Photon by looking at the back of the Photon's box. You'll find a sticker on the right that lists the device's id. The last six characters of that number match the wifi address that appears on your computer.</p></li></ul><p><img src="/docs/assets/img/box.df3229a3.jpg" alt="box"></p><ul><li>Follow the steps listed to connect to the Photon's wifi network. When it connects, it should 'breathe cyan' (the blue light in the center should pulse gently on and off).</li></ul><p><img src="/docs/assets/img/wifi.8bd17593.png" alt="wifi"></p><p>Complete the setup of the device by giving it a name. Now, you can start using your device with <a href="http://build.particle.io" target="_blank" rel="noopener noreferrer">Particle Build</a>, the Photon's special IDE where you keep its code.</p><div class="tip custom-block"><p class="custom-block-title">💡</p><p>Sometimes students have trouble finding their Photon on Particle Build. If you don't see it in the IDE, add it manually.</p><ul><li>If the device is not already blinking blue, hold down the setup button on the Photon until the main status LED blinks dark blue. This takes about 3 seconds.</li></ul><p><img src="/docs/assets/img/setup_button.e799b1b9.jpg" alt="setup button"></p><ul><li>Connect to your Photon's wifi following the steps above, and then open a web browser and navigate to: <a href="http://192.168.0.1/device-id" target="_blank" rel="noopener noreferrer">http://192.168.0.1/device-id</a>. On that page, you'll see an id like this:</li></ul><pre class="language-text"><code>{&quot;id&quot;:&quot;30003F000347363339343638&quot;,&quot;c&quot;:&quot;1&quot;}
</code></pre><ul><li><p>Make a note of that id, you'll use it later.</p></li><li><p>Navigate to <a href="https://build.particle.io" target="_blank" rel="noopener noreferrer">Particle Build</a> and click 'Add New Device'.</p></li></ul><p><img src="/docs/assets/img/device_id.f843d7be.png" alt="Particle Build"></p><ul><li>Input the Device ID that you notated earlier in the box. Your device should now be ready to use in the IDE.
:::</li></ul><h3 id="_2-learn-about-particle-build"><a href="#_2-learn-about-particle-build" aria-hidden="true" class="header-anchor">#</a> 2. Learn About Particle Build</h3><p>Since you already created an account for your Photon and should be logged in (<a href="https://login.particle.io/login" target="_blank" rel="noopener noreferrer">if not, login here</a>) now you can go to <a href="https://build.particle.io/build/new" target="_blank" rel="noopener noreferrer">Particle Build</a>. Click on the third icon from the bottom on the left bar to see your device listed. Make sure that it is starred (click its star, if not) - you are going to flash code to this device over wifi.</p><p>Let's take a look at Particle Build. This is a browser-based IDE that allows you to 'flash', or publish, code from the browser to the Photon device selected on the left.</p><p><img src="/docs/assets/img/particle_build.72e09ea4.png" alt="Particle Build"></p><p>Currently, there is nothing in this new file except a setup() and loop() function. Let's start adding code to this file.</p><div class="tip custom-block"><p class="custom-block-title">💡</p><p>Photons are basically wifi-connected Arduinos, so if you have experience in Arduino development, this code will look familiar. Arduino 'sketches', or firmware that is written to a hardware device, are commonly written in C or C++. We're going to write a bit of C++ code to control the central LED light on the device, avoiding any soldering or extra wiring. The Particle kit, however, comes with a few extras, so feel free to explore them more later on!</p></div></div><p>Right now, your Photon is lit up in the center LED, and should be 'breathing cyan' or pulsing a kind of greenish blue color, if everything is going well. Let's flash some code to it to turn the central light white.</p><h3 id="_3-flash-some-code"><a href="#_3-flash-some-code" aria-hidden="true" class="header-anchor">#</a> 3. Flash Some Code</h3><p>To the right of the Build IDE, you'll see a black window with some lines of code. Inside the loop() function's curly brackets, paste the following code:</p><pre class="language-js"><code><span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//change its color</span>
<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>This code uses the Particle API to grab control of the central RGB LED, change its color, then relinquish control.</p><p>This new file is considered to be an 'app' in Particle Build. You need to give it a name in the left panel before you can flash your app code to your starred device.</p><p><img src="/docs/assets/img/particle_build2.003c7d3c.png" alt="build"></p><p>Save your change by clicking the folder icon in the left navigation strip of Particle Build. Above that, click the circled checkmark to 'verify' the code. This basically tests your code to ensure that it can compile. Finally, ensuring that your Photon is starred, click the lightning icon at the top to flash this code to your device. The Photon should update, flashing a few colors for a few seconds, and then the central LED should turn white. It will stay white because we put the code in the loop function.</p><p>Tinker a little bit with this snippet. Can you turn the LED red?</p><h3 id="_4-complete-the-photon-code"><a href="#_4-complete-the-photon-code" aria-hidden="true" class="header-anchor">#</a> 4. Complete the Photon Code</h3><p>In our mobile app, we're going to create three 'modes' of LED lights - 'Rainbow Mode' where the LED will flash a rainbow series, 'Unicorn Mode' where the LED flashes alternating blue and white, and a 'stop' mode where the LED stays white.</p><p>You might have guessed that we're going to put these routines in the loop() function.</p><p>Add a variable at the top of this file, listing the initial light style to be 0:</p><p><code>int style = 0;</code></p><p>Then, in the loop() function, overwrite the snippet you just added with the following code:</p><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//change its color</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//change its color</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_RED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//delay a second</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_ORANGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_YELLOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_GREEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_BLUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_MAGENTA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// resume normal operation</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//change its color</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//delay a second</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_MAGENTA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// resume normal operation</span>
	<span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Verify this code and flash it to your device. Nothing seems to have changed - and that's because you have your style set to 0, which is still white. Change the integer value to 1, flash it to device, and see what happens. Do you see a rainbow?</p><p>Now you can return the style to 0 so the LED will initialize white:</p><p><code>int style = 0;</code></p><h3 id="_5-get-ready-for-the-mobile-app-to-use-photon-s-rest-api"><a href="#_5-get-ready-for-the-mobile-app-to-use-photon-s-rest-api" aria-hidden="true" class="header-anchor">#</a> 5. Get Ready for the Mobile App to use Photon's REST API</h3><p>Now, we need to use Photon's cool REST API functionality to allow our mobile app to control the Photon. To do this, add this line to the setup() function, between the curly brackets:</p><p><code>Particle.function(&quot;launchMode&quot;,launchMode);</code></p><p>We just added a Particle function called <code>launchMode</code> that will be available from the mobile app, and will call a similarly-named function in the Photon's code.</p><p>Add that function under the close of the loop() function:</p><pre class="language-js"><code>int <span class="token function">launchMode</span><span class="token punctuation">(</span>String mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    style <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>mode<span class="token operator">==</span><span class="token string">&quot;rainbow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        style <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>mode<span class="token operator">==</span><span class="token string">&quot;unicorn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        style <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Now, our mobile app can call the <code>launchMode</code> Particle Function which will call the internal <code>launchMode</code> function, passing in a string indicating which mode we want to use to control the LED flash style.</p><p>Go ahead and save, verify, then flash this code to your device. The LED should return to white.</p><h3 id="_6-final-photon-code"><a href="#_6-final-photon-code" aria-hidden="true" class="header-anchor">#</a> 6. Final Photon Code</h3><p>The final code looks like this:</p><pre class="language-js"><code>int style <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Particle<span class="token punctuation">.</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token string">&quot;launchMode&quot;</span><span class="token punctuation">,</span>launchMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//change its color</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//change its color</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_RED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//delay a second</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_ORANGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_YELLOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_GREEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_BLUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_MAGENTA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// resume normal operation</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//change its color</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//delay a second</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token constant">RGB_COLOR_MAGENTA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// resume normal operation</span>
        <span class="token constant">RGB</span><span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

int <span class="token function">launchMode</span><span class="token punctuation">(</span>String mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    style <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode<span class="token operator">==</span><span class="token string">&quot;rainbow&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        style <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mode<span class="token operator">==</span><span class="token string">&quot;unicorn&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        style <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><h2 id="scaffold-your-app"><a href="#scaffold-your-app" aria-hidden="true" class="header-anchor">#</a> Scaffold your app</h2><p>Now we are going to build an app with NativeScript, using JavaScript to create a native mobile app. This app will communicate with the Photon via the code you just flashed.</p><p>Open the <a href="http://play.nativescript.org" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and take a look around. On your first visit, you'll see several 'coach marks' showing where key functionality is kept.</p><p>Click 'Play Now' to open the main editor. You'll see a QR code appear - scan that with the NativeScript Play app. This allows your phone to refresh automatically as you code. Now you're ready to scaffold a NativeScript-Vue app!</p><p><img src="/docs/assets/img/playground1.de0d0870.png" alt="playground"></p><p>By default, the first playground app is created using Angular. Click 'new' at the top and choose 'NS-Vue' as a template. You'll get another QR code, so scan that one. You'll see your phone refresh and a basic app appear:</p><p><img src="/docs/assets/img/playground2.a1940941.png" alt="base app"></p><h2 id="create-the-base-markup"><a href="#create-the-base-markup" aria-hidden="true" class="header-anchor">#</a> Create the Base Markup</h2><p>We're going to use a bit of XML markup in the <code>template</code> to build out a simple layout with an ActionBar, a SegmentedBar for navigation, and a panel that will change when the SegmentedBar is tapped.</p><div class="tip custom-block"><p class="custom-block-title">💡</p><p>NativeScript layouts differ from the html you write on the web. You're using NativeScript XML markup, which translates to native UI like GridLayouts and StackLayouts.</p></div><p>Open <code>app/components/HelloWorld.vue</code> and delete everything between the template's <code>&lt;Page&gt;</code> tags and add the following:</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionBar</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>action-bar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awesome Photons!<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SegmentedBar</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blueviolet<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">selectedBackgroundColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blueviolet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>segmentedBarItems<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>selectedBarIndex<span class="token punctuation">&quot;</span></span>
                  <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>The SegmentedBar does not yet appear as the binded values <code>:items</code> and the <code>v-model</code> have not yet been set. Find the data block (under the template block) and add values for a SegmentedBar. Also set its default SelectedBarIndex and create a placeholder value for <code>mode</code>. The latter will be used to change the UI when the Bar is tapped:</p><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      segmentedBarItems<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> segmentedBarModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ui/segmented-bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> rainbow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rainbow<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Rainbows&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> unicorn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        unicorn<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Unicorns&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> stop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stop<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Stop!&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>rainbow<span class="token punctuation">,</span> unicorn<span class="token punctuation">,</span> stop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      selectedBarIndex<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      mode<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><p>Now, you should be able to see the SegmentedBar appear!</p><h2 id="add-some-css"><a href="#add-some-css" aria-hidden="true" class="header-anchor">#</a> Add some CSS</h2><p>NativeScript supports a subset of regular CSS and SASS to style UIs. Let's leverage that to improve our UI.</p><p>Under the <code>&lt;script&gt;</code> tags, you'll find a <code>&lt;style&gt;</code> tag. Overwrite the two styles in this block with the following;</p><pre class="language-css"><code><span class="token selector">.action-bar</span> <span class="token punctuation">{</span>
	<span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> blueviolet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bar</span> <span class="token punctuation">{</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.rainbow</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom, red, orange, yellow, green, blue, purple<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.unicorn</span> <span class="token punctuation">{</span>
	<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('~/images/unicorn.jpg')</span><span class="token punctuation">;</span>
	<span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
	<span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>We also need to add an image to this project, which will appear when the Unicorn SegmentedBarItem is tapped.</p><p>Click on the small <code>+</code> next to the word <code>Explorer</code> and add a folder titled <code>images</code>. Save the file below to your local, and then upload it as a <code>.jpg</code> file, using the <code>Upload resources</code> utility in the dropdown.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Make sure to rename your file <code>unicorn.jpg</code> and save it after uploading it.</p></div><p><img src="/docs/assets/img/unicorn.bddf5105.jpg" alt="A beautiful unicorn!"></p><h2 id="create-a-method-1"><a href="#create-a-method-1" aria-hidden="true" class="header-anchor">#</a> Create A Method (1)</h2><p>We want the UI to change, depending on whether we tap <code>Rainbows</code>, <code>Unicorns</code>, or <code>Stop!</code>.</p><p>Create a <code>methods</code> block after the last comma of the <code>data</code> block to manage the behavior of the SegmentedBar:</p><pre class="language-js"><code>methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">onSelectedIndexChange</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> segmentedBarIndex <span class="token operator">=</span> args<span class="token punctuation">.</span>object<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>segmentedBarIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'rainbow'</span>
        <span class="token comment">//this.launchMode(this.mode);</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>segmentedBarIndex <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'unicorn'</span>
        <span class="token comment">//this.launchMode(this.mode);</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'stop'</span>
        <span class="token comment">//this.launchMode(this.mode);</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><p>Then, edit the <code>&lt;SegmentedBar&gt;</code> itself to watch for this method: append @selectedIndexChange to the <code>&lt;SegmentedBar&gt;</code> markup:</p><pre class="language-html"><code>@selectedIndexChange=&quot;onSelectedIndexChange($event)&quot;
</code></pre><p>The finished template block now looks like this:</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionBar</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>action-bar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awesome Photons!<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SegmentedBar</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blueviolet<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">selectedBackgroundColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blueviolet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>segmentedBarItems<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>selectedBarIndex<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">@selectedIndexChange</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onSelectedIndexChange($event)<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>Now, when you tap the SegmentedBar, the UI should change.</p><h2 id="connect-your-photon"><a href="#connect-your-photon" aria-hidden="true" class="header-anchor">#</a> Connect Your Photon</h2><p>Now it's finally time to make the Photon light up when you tap the SegmentedBar.</p><p>At the top of the file, set some <code>const</code> values.</p><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">'https://api.particle.io/v1/devices/xxxxx'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token string">'yyyyy'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">'launchMode'</span><span class="token punctuation">;</span>
</code></pre><p>Let's walk through these. First, we need to make an http call to Particle's REST API, so we need the <code>http</code> module.</p><p>Next, you need to tell the REST API which device to call and send it a token. You need to change two values here. Go back to Particle's Build IDE and click on the third icon from the bottom (it looks like a target). Your device ID is here:</p><p><img src="/docs/assets/img/particle1.75ca9d9a.png" alt="Particle IDE"></p><p>Copy that value and change the <code>xxxxx</code> value in the baseUrl const to your device ID.</p><p>Next, you need a token to use the REST API itself. Click the bottom 'gear' icon in Particle Build and copy the Access Token value, replacing 'yyyyy' with your token.</p><p><img src="/docs/assets/img/particle2.c2ae590c.png" alt="Particle IDE"></p><p>The last value you added is the name of the endpoint you're going to call - remember that Particle function you set above? This is how the mobile app is going to call it.</p><h2 id="create-a-method-2"><a href="#create-a-method-2" aria-hidden="true" class="header-anchor">#</a> Create a Method (2)</h2><p>Adding a comma after the closing bracket of the <code>onSelectedIndexChange</code> call, append a method to call the REST API and make your Photon change color:</p><pre class="language-js"><code><span class="token function">launchMode</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?access_token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
        method<span class="token punctuation">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
        headers<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'content-type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content<span class="token punctuation">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          mode<span class="token punctuation">:</span> mode
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>Here, we're making an http request to our baseUrl at the endpoint we set up as a Particle function, passing through a string to tell the function which color sequence to flash.</p><p>The final thing we need to do is actually call <code>launchMode</code> when the SegmentedBar is tapped. Go ahead and uncomment the <code>//this.launchMode(this.mode)</code> code in the <code>onSelectedIndexChange</code> method.</p><p>The entire HelloWorld.vue file looks like this:</p><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">'https://api.particle.io/v1/devices/my-device'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token string">'my-token'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">'launchMode'</span><span class="token punctuation">;</span>

<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      segmentedBarItems<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> segmentedBarModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ui/segmented-bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> rainbow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rainbow<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Rainbows&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> unicorn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        unicorn<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Unicorns&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> stop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">segmentedBarModule<span class="token punctuation">.</span>SegmentedBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stop<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Stop!&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>rainbow<span class="token punctuation">,</span> unicorn<span class="token punctuation">,</span> stop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      selectedBarIndex<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      mode<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;Page&gt;
      &lt;ActionBar class=&quot;action-bar&quot; title=&quot;Awesome Photons!&quot;/&gt;

        &lt;StackLayout&gt;
        &lt;SegmentedBar color=&quot;blueviolet&quot;
              selectedBackgroundColor=&quot;blueviolet&quot; class=&quot;bar&quot;
              :items=&quot;segmentedBarItems&quot; v-model=&quot;selectedBarIndex&quot;
              @selectedIndexChange=&quot;onSelectedIndexChange($event)&quot;  /&gt;
          &lt;StackLayout height=&quot;100%&quot; :class=&quot;mode&quot;&gt;&lt;/StackLayout&gt;
        &lt;/StackLayout&gt;
    &lt;/Page&gt;
  `</span></span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">onSelectedIndexChange</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> segmentedBarIndex <span class="token operator">=</span> args<span class="token punctuation">.</span>object<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>segmentedBarIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'rainbow'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">launchMode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>segmentedBarIndex <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'unicorn'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">launchMode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'stop'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">launchMode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">launchMode</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?access_token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
        method<span class="token punctuation">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
        headers<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'content-type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content<span class="token punctuation">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          mode<span class="token punctuation">:</span> mode
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>action<span class="token operator">-</span>bar <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token punctuation">:</span> blueviolet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>bar<span class="token punctuation">{</span>
    margin<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>rainbow <span class="token punctuation">{</span>
    background<span class="token punctuation">:</span> linear<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> red<span class="token punctuation">,</span> orange<span class="token punctuation">,</span> yellow<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">,</span> purple<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>unicorn<span class="token punctuation">{</span>
    background<span class="token operator">-</span>image<span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;~/images/unicorn.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    background<span class="token operator">-</span>repeat<span class="token punctuation">:</span> no<span class="token operator">-</span>repeat<span class="token punctuation">;</span>
    background<span class="token operator">-</span>size<span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre><p>Now, if you Photon is connected to wifi with the correct code flashed to it, you can see your gestures in the mobile app light up the Photon's center LED!</p><p><img src="/docs/assets/img/rainbows_unicorns.a23880a7.gif" alt="rainbows unicorns"></p><p>It's really interesting to build Vue.js apps for mobile devices in the NativeScript playground. Now that you know how, what else can you build? Could you extend this app to create different lighting modes?</p><h2 id="author"><a href="#author" aria-hidden="true" class="header-anchor">#</a> Author</h2><p>Made with ❤️ by Jen Looper</p></div><div class="content edit-link"><a href="https://github.com/vuevixens/docs/edit/master//workshop/mini3.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/workshop/mini2.html" class="prev">
          🐾 Mini Workshop 2: Build a Mobile App to Choose a Pet
        </a></span><!----></p></div></div></div></div>
    <script src="/docs/assets/js/1.fa456c20.js" defer></script><script src="/docs/assets/js/app.7918803b.js" defer></script>
  </body>
</html>
